(window.webpackJsonp=window.webpackJsonp||[]).push([[7,5],{442:function(t,e,n){var content=n(445);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(27).default)("fd5ce7cc",content,!0,{sourceMap:!1})},443:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=n(199);o.a.apps.length||o.a.initializeApp({apiKey:"AIzaSyDj0iJjFlV-NbF0LZKJcEMBAKVzA-JF6ok",authDomain:"vuemermaidmarkdown1.firebaseapp.com",databaseURL:"https://vuemermaidmarkdown1-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"vuemermaidmarkdown1",storageBucket:"vuemermaidmarkdown1.appspot.com",messagingSenderId:"843442527675",appId:"1:843442527675:web:6e75820d1903377939f89e",measurementId:"G-0QHG8DC1N2"});o.a.firestore(),o.a.storage();var r=o.a.database()},444:function(t,e,n){"use strict";n(442)},445:function(t,e,n){var o=n(26)(!1);o.push([t.i,"\n.markdown-editor {\n    width: 100%;\n    height: 100%;\n}\n",""]),t.exports=o},446:function(t,e,n){var content=n(449);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(27).default)("f5b69a24",content,!0,{sourceMap:!1})},447:function(t,e,n){"use strict";n.r(e);var o={props:{message:{type:String},id:{type:String}},name:"Markdown",data:function(){return{markdownOption:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!0,code:!0,table:!0,fullscreen:!0,htmlcode:!0,save:!0,subfield:!0,preview:!0},editorOn:!1,model:""}},computed:{convert:function(){}},methods:{changeEditorOn:function(){return this.editorOn=!this.editorOn}}},r=(n(444),n(99)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"markdown-editor"},[e("button",{on:{click:t.changeEditorOn}},[t._v("edit")]),t._v(" "),t.editorOn?e("div",[e("h3",[t._v(t._s(t.message))]),t._v(" "),e("mavon-editor",{attrs:{toolbars:t.markdownOption,language:"en"},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1):t._e()])}),[],!1,null,null,null);e.default=component.exports},448:function(t,e,n){"use strict";n(446)},449:function(t,e,n){var o=n(26)(!1);o.push([t.i,"\n.container {\n  top: 10px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n}\n.titled {\n  width: 60%;\n  margin: auto;\n  align-items: left;\n  font-family: 'Quicksand', 'Source Sans Pro', -apple-system, BlinkMacSystemFont,\n    'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n  display: block;\n  font-size: 20px;\n  color: #35495e;\n  letter-spacing: 1px;\n}\n.subtitle {\n  font-weight: 300;\n  font-size: 42px;\n  color: #526488;\n  word-spacing: 5px;\n  padding-bottom: 15px;\n}\n.links {\n  padding-top: 15px;\n}\n.inputt {\n  margin-top: 10px;\n}\n.compwht {\n  background-color: #c7c7c7;\n  margin-top: 5px;\n}\n.v-application--wrap {\n  background-color: #fff;\n  /* background-color: #979797; */\n}\n.mermaid{\n  width: flex;\n}\n\n",""]),t.exports=o},453:function(t,e,n){"use strict";n.r(e);var o=n(278),r=(n(173),n(42),n(6),n(79),n(447)),d=(n(199),n(443)),l={name:"Mermaid",props:{userName:{type:String},id:{type:String}},data:function(){return{editParetto:!0,tgtparents:"",newText:"",tgnumber:"",nextId:"",editText:"",currentmaxid:4,deleteCount:0,existCount:4,nodeMemoTitle:"nodeMemo...",nodeMemoId:"1",title:"vue-mermaid",mermaid:{theme:"default",startOnLoad:!1,securityLevel:"loose"},data:[{id:"1",text:"A",editable:!0,next:["2","3"]},{id:"2",text:"B",editable:!0,next:[]},{id:"3",text:"C",editable:!0,next:["4"]},{id:"4",text:"D",editable:!0,next:[]}],node1:[]}},created:function(){var t=this;d.a.ref("test/").once("value").then((function(e){if(e.val()){t.node1=e.val(),t.data.splice(1,t.data.length),t.currentmaxid=t.node1.length;for(var i=1;i<t.node1.length;i++)t.data.push(t.node1[i]);t.currentmaxid=t.node1.length,t.existCount=t.node1.length,t.node1.splice(0,t.node1.length)}}))},computed:{countid:function(t){return this.deleteCount+this.existCount},isexistparent:function(t){return this.isButtonAble?"NG":"OK"},isButtonAble:function(t){return null===this.filterByText(this.tgtparents)},nowNextA:function(t){return this.data[0].next}},methods:{alertNode:function(t){var data=this.filterById(t);alert("clicked node = "+data.text+"\n  number is"+data.id),this.tgtparents=data.text,this.tgnumber=data.id,this.nodeMemo=data.text,this.nodeMemoTitle=data.text,this.nodeMemoId=data.id},filterByText:function(text){for(var t=this.data,i=0;i<this.currentmaxid;i++)if(t[i].text===text)return t[i];return null},filterById:function(t){for(var e=this.data,i=0;i<this.currentmaxid;i++)if(e[i].id==t)return e[i];return null},addNewNode:function(t){var e=this.filterByText(this.tgtparents).id,n=""===this.newText?"new_el":this.newText;this.node1=this.data.concat(),this.data.length=1,this.currentmaxid++,this.existCount++;for(var i=0;i<this.currentmaxid-1;i++)if(this.node1[i].id===e){String(this.currentmaxid);void 0===this.node1[i].next&&(this.node1[i].next=[]),this.node1[i].next.push(this.existCount.toString())}var o={id:this.existCount.toString(),text:n,next:[],editable:!0};this.node1.push(o),this.clearText(),this.ketugou()},clearText:function(t){this.tgtparents="",this.newText="",this.tgnumber="",this.nextId=""},addNext:function(t){var e=this.filterByText(this.tgtparents).id,n=this.filterByText(this.nextId);this.node1=this.data.concat(),this.data.length=1;for(var i=0;i<this.node1.length;i++)if(this.node1[i].id===e){String(this.nextId);void 0===this.node1[i].next&&(this.node1[i].next=[]),this.node1[i].next.push(n.id)}this.clearText(),this.ketugou()},editNode:function(t){for(var e=this.filterByText(this.tgtparents).id,i=0;i<this.currentmaxid;i++)this.data[i].id===e&&(this.data[i].text=this.editText);this.clearText()},saveNode:function(t){d.a.ref("test/").set(this.data)},check:function(t){},easydelete:function(t){alert("削除を始めます。");var e=0,n=this.deleteCount+this.existCount,o=this.filterByText(this.tgtparents).id;this.node1=this.data.concat(),this.data.splice(1,this.data.length-1),alert(o+"番を削除します\n  deleteSize is"+n);for(var i=0;i<this.currentmaxid;i++)if(alert(i+1+"回目。"),this.node1[i].id===o)if(alert("削除対象を見つけました。"),void 0===this.node1[i].next||0==this.node1[i].next.length){e=i;for(var r=0;r<this.currentmaxid;r++)void 0!==this.node1[r].next&&this.node1[r].next.length>0&&(alert(r+" 回目　このノードと繋がっているノードから対象を削除します。"),this.serchAndDeleteNext(this.node1[r].next,o));0!=e&&(alert(e+" 番のノードを削除します。"),this.node1.splice(e,1),alert(e+" 番のノードを削除しました。node1の長さは"+this.node1.length+"です。")),this.deleteCount++}else alert("このノードは他のノードと繋がっているため、削除できません。");this.clearText(),this.ketugou()},ketugou:function(t){alert("currentmaxidを再採番し、結合します"),this.currentmaxid=this.node1.length;for(var i=1;i<this.node1.length;i++)alert("結合pushします。"),this.data.push(this.node1[i]);alert("結合終えました。"),console.log(this.data[0].text),this.node1.splice(0,this.node1.length)},serchAndDeleteNext:function(t,e){alert("Next整理 nextList.length = "+t.length);for(var n=0;n<t.length;n++)alert("Next整理 For開始"),t[n]==e&&(alert(t[n]+"; nextList  "+e+"; deleteId"),t.splice(n,1))},reTakeNo:function(t){for(var i=0;i<this.currentmaxid;i++)this.node1[i].id=(i+1).toString()}},components:{Markdown:r.default}},c=(n(448),n(99)),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"titled"},[e("h5",[t._v(t._s(t.userName)+" "+t._s(t.id))]),t._v(" "),e(o.a,{on:{click:function(e){t.editParetto=!t.editParetto}}},[t._v("\n      編集\n    ")]),t._v(" "),t.editParetto?e("div",[e("div",{staticClass:"inputt"},[t._v("\n      Set Parent:\n      "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tgtparents,expression:"tgtparents"}],staticClass:"compwht",domProps:{value:t.tgtparents},on:{input:function(e){e.target.composing||(t.tgtparents=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"inputt"},[t._v("\n      NO:\n      "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tgnumber,expression:"tgnumber"}],staticClass:"compwht",domProps:{value:t.tgnumber},on:{input:function(e){e.target.composing||(t.tgnumber=e.target.value)}}}),t._v(" "),e("button",{staticClass:"compwht",on:{click:t.saveNode}},[t._v("\n        Save\n      ")])]),t._v(" "),e("div",{staticClass:"inputt"},[t._v("\n      Set Text : "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newText,expression:"newText"}],staticClass:"compwht",domProps:{value:t.newText},on:{input:function(e){e.target.composing||(t.newText=e.target.value)}}}),t._v(" "),e("button",{staticClass:"compwht",attrs:{disabled:t.isButtonAble},on:{click:t.addNewNode}},[t._v("\n        Add\n      ")])]),t._v(" "),e("div",{staticClass:"inputt"},[t._v("\n        Link:\n      "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nextId,expression:"nextId"}],staticClass:"compwht",domProps:{value:t.nextId},on:{input:function(e){e.target.composing||(t.nextId=e.target.value)}}}),t._v(" "),e("button",{staticClass:"compwht",attrs:{disabled:t.isButtonAble},on:{click:t.addNext}},[t._v("\n        Link\n      ")])]),t._v(" "),e("div",{staticClass:"inputt"},[t._v("\n        Edit:\n      "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editText,expression:"editText"}],staticClass:"compwht",domProps:{value:t.editText},on:{input:function(e){e.target.composing||(t.editText=e.target.value)}}}),t._v(" "),e("button",{staticClass:"compwht",attrs:{disabled:t.isButtonAble},on:{click:t.editNode}},[t._v("\n        Edit\n      ")])]),t._v(" "),e("br"),t._v("\n    check parent exist :"+t._s(t.isexistparent)+"\n    "),e("button",{staticClass:"compwht",on:{click:t.check}},[t._v("\n        check\n      ")]),t._v(" "),e("button",{staticClass:"compwht",attrs:{disabled:t.isButtonAble},on:{click:t.easydelete}},[t._v("\n        EasyDelete\n      ")]),t._v(" "),e("button",{staticClass:"compwht",on:{click:t.ketugou}},[t._v("\n        結合\n      ")])]):t._e(),t._v(" "),e("vue-mermaid",{staticClass:"mermaid",attrs:{nodes:t.data,config:t.mermaid,type:"graph TD"},on:{nodeClick:t.alertNode}})],1),t._v(" "),e("div",{staticClass:"markdown"},[e("Markdown",{attrs:{message:t.nodeMemoTitle,id:t.nodeMemoId}})],1)])}),[],!1,null,null,null);e.default=component.exports}}]);