(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{364:function(e,t,n){"use strict";n.r(t);n(38),n(7);var o=n(362),r={data:function(){return{isLoginModalActive:!0,name:""}},methods:{google:function(){var e=this;Promise.resolve().then(this.setPersistence).then((function(){return new Promise((function(e,t){var n=new o.a.auth.GoogleAuthProvider;console.log("auth"),o.a.auth().signInWithPopup(n).then((function(t){e(t)})).catch((function(e){e.code,e.message,e.email,e.credential;t(e)}))}))})).then((function(t){return new Promise((function(n,o){var r={},c=t.user;r.token=t.credential.accessToken,r.refreshToken=c.refreshToken,r.uid=c.uid,r.displayName=c.displayName,r.photoURL=c.photoURL,r.uid=c.uid,r.email=c.email,r.isNewUser=t.additionalUserInfo.isNewUser,r.providerId=t.additionalUserInfo.providerId,n(r),e.name=r.displayName}))})).then((function(t){return e.createPhotoURL(t)})).then((function(t){return e.setPublicUserData(t)})).then((function(t){return e.setPrivateUserData(t)})).then((function(t){return e.setLocalUserData(t)})).catch((function(t){return e.onRejectted(t)}))},setPersistence:function(){return new Promise((function(e,t){o.a.auth().setPersistence(o.a.auth.Auth.Persistence.LOCAL).then((function(t){e()}))}))},onRejectted:function(e){this.$buefy.toast.open({duration:5e3,message:"ログインに失敗しました。",position:"is-bottom",type:"is-danger"}),this.isLoginModalActive=!1,console.log("onRejectted",e)}}},c=n(80),component=Object(c.a)(r,(function(){var e=this,t=e._self._c;return t("b-modal",{attrs:{active:e.isLoginModalActive,width:420,scroll:"keep"},on:{"update:active":function(t){e.isLoginModalActive=t}}},[t("button",{on:{click:e.google}},[t("span",{staticClass:"icon"},[t("i",{staticClass:"fab fa-google"}),e._v("\n       \n      "),t("span",[e._v("Google")]),e._v(" "),t("span",[e._v(e._s(e.name))])])])])}),[],!1,null,null,null);t.default=component.exports}}]);